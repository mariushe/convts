(this.webpackJsonpconvts=this.webpackJsonpconvts||[]).push([[0],{11:function(t,n,e){},12:function(t,n,e){},16:function(t,n,e){"use strict";e.r(n);var r=e(1),i=e.n(r),u=e(6),c=e.n(u),a=(e(11),e(5)),o=(e(12),e(0)),s=function(t){var n=t.layer;return Object(o.jsx)("div",{children:Object(o.jsxs)("div",{className:"px-4 p-2 m-4 max-w-sm mx-auto bg-gray-800 rounded-xl shadow-md flex items-center space-x-4",children:[n.name()," ",n.getInputSize()&&n.getOutputSize()?" (".concat(n.getInputSize(),", ").concat(n.getOutputSize(),")"):""]})})},f=function(t){var n=t.network;return Object(o.jsxs)("section",{children:[Object(o.jsx)("h1",{className:"text-3xl",children:"Layers"}),n.layers.map((function(t,n){return Object(o.jsx)(s,{layer:t},"layer_".concat(n))}))]})},h=function(t){var n=t.network;return Object(o.jsx)("div",{children:Object(o.jsx)(f,{network:n})})},p=function(t){return t.map((function(t){return t.map((function(t){return t>0?t:.01*t}))}))},l=function(t){return t.map((function(t){return t.map((function(t){return t>0?1:.01}))}))},m=e(2),g=e(3),d=function(t,n){return 1===t.length&&1===t[0].length&&1===n.length?n.map((function(n){return n.map((function(n){return n*t[0][0]}))})):1===t.length&&t[0].length>1&&n.length===t[0].length?[Array.from(Array(n[0].length).keys()).map((function(e,r){return t[0].map((function(e,i){return t[0][i]*n[i][r]})).reduce((function(t,n){return t+n}),0)}))]:1===t[0].length&&1===n.length?t.map((function(e,r){return n[0].map((function(e,i){return t[r][0]*n[0][i]})).filter((function(t){return!isNaN(t)}))})):t.map((function(e,r){return t.map((function(i,u){return Array.from(Array(e.length).keys()).reduce((function(e,i){return e+t[r][i]*n[i][u]}),0)})).filter((function(t){return!isNaN(t)}))}))},b=function(t,n){if("number"===typeof n)return t.map((function(e,r){return t[r].map((function(e,i){return t[r][i]*n}))}));if(t.length===n.length)return t.map((function(e,r){return t[0].map((function(e,i){return t[r][i]*n[r][i]}))}));if(1===t.length)return n.map((function(e,r){return n[0].map((function(e,i){return t[0][i]*n[r][i]}))}));if(1===n.length)return t.map((function(e,r){return t[0].map((function(e,i){return t[r][i]*n[0][i]}))}));throw Error("Dimentions didn't match. a=".concat(t," b=").concat(n))},v=function(t,n){if(t.length===n.length)return t.map((function(e,r){return t[0].map((function(e,i){return t[r][i]-n[r][i]}))}));if(1===t.length)return n.map((function(e,r){return n[0].map((function(e,i){return t[0][i]-n[r][i]}))}));if(1===n.length)return t.map((function(e,r){return t[0].map((function(e,i){return t[r][i]-n[0][i]}))}));throw Error("Dimentions didn't match. a=".concat(t," b=").concat(n))},j=function(t){return t[0].map((function(n,e){return t.map((function(t){return t[e]}))}))},y=function(){function t(n,e){Object(m.a)(this,t),this.activation=void 0,this.activationPrime=void 0,this.input=[],this.output=[],this.activation=n,this.activationPrime=e}return Object(g.a)(t,[{key:"name",value:function(){return"Activation"}},{key:"getInputSize",value:function(){}},{key:"getOutputSize",value:function(){}},{key:"forwardPropagation",value:function(t){return this.input=t,this.output=this.activation(t),this.output}},{key:"backPropagation",value:function(t,n){return b(this.activationPrime(this.input),t)}}]),t}(),O=function(t,n){return Array.from(Array(t).keys()).map((function(t){return Array.from(Array(n).keys()).map((function(t){return Math.random()-.5}))}))},w=function(){function t(n,e){Object(m.a)(this,t),this.weight=void 0,this.bias=void 0,this.input=[],this.inputSize=void 0,this.outputSize=void 0,this.inputSize=n,this.outputSize=e,this.weight=O(n,e),this.bias=O(1,e)}return Object(g.a)(t,[{key:"getInputSize",value:function(){return this.inputSize}},{key:"getOutputSize",value:function(){return this.outputSize}},{key:"name",value:function(){return"Connected"}},{key:"forwardPropagation",value:function(t){return this.input=t,function(t,n){if(t.length===n.length)return t.map((function(e,r){return t[0].map((function(e,i){return t[r][i]+n[r][i]}))}));if(1===t.length)return n.map((function(e,r){return n[0].map((function(e,i){return t[0][i]+n[r][i]}))}));if(1===n.length)return t.map((function(e,r){return t[0].map((function(e,i){return t[r][i]+n[0][i]}))}));throw Error("Dimentions didn't match. a=".concat(t," b=").concat(n))}(d(t,this.weight),this.bias)}},{key:"backPropagation",value:function(t,n){var e=d(t,j(this.weight)),r=d(j(this.input),t);return this.weight=v(this.weight,b(r,n)),this.bias=v(this.bias,b(t,n)),e}}]),t}(),k={loss:function(t,n){var e=0;return v(t,n).map((function(t){return t.map((function(t){return e+=1,Math.pow(t,2)}))})).reduce((function(t,n){return t+n.reduce((function(t,n){return t+n}),0)}),0)/e},lossPrime:function(t,n){var e=t.reduce((function(t,n){return t+n.length}),0);return b(function(t,n){if("number"===typeof n)return t.map((function(e,r){return t[r].map((function(e,i){return t[r][i]/n}))}));if(t.length===n.length)return t.map((function(e,r){return t[0].map((function(e,i){return t[r][i]/n[r][i]}))}));if(1===t.length)return n.map((function(e,r){return n[0].map((function(e,i){return t[0][i]/n[r][i]}))}));if(1===n.length)return t.map((function(e,r){return t[0].map((function(e,i){return t[r][i]/n[0][i]}))}));throw Error("Dimentions didn't match. a=".concat(t," b=").concat(n))}(v(n,t),e),2)}},x=e(14)(),P=function(){function t(n,e){Object(m.a)(this,t),this.layers=void 0,this.loss=void 0,this.learningRate=.1,this.layers=n,this.loss=e}return Object(g.a)(t,[{key:"predict",value:function(t){return this.forwardPropagate(t)}},{key:"fit",value:function(t,n,e){for(var r=this,i=-1,u=1;u<=e;u++){var c=t.map((function(t,e){var i=r.forwardPropagate(t);return x.debug({Expected:n[e],Predicted:i}),r.backPropagate(n[e],i),r.loss.loss(n[e],i)})).reduce((function(t,n){return t+n}),0)/t.length;x.info("Epoch ".concat(u,"/").concat(e," error=").concat(c)),i=c}return i}},{key:"backPropagate",value:function(t,n){var e=this.loss.lossPrime(t,n);x.debug({"LOSS PRIME ":e});for(var r=this.layers.length-1;r>=0;r--)e=this.layers[r].backPropagation(e,this.learningRate)}},{key:"forwardPropagate",value:function(t){return this.layers.reduce((function(t,n){return n.forwardPropagation(t)}),t)}}],[{key:"create",value:function(n,e){return new t(n,e)}}]),t}();var S=function(){var t=Object(r.useState)(P.create([new w(2,3),new y(p,l),new w(3,1),new y(p,l)],k)),n=Object(a.a)(t,2),e=n[0],i=(n[1],Object(r.useState)(void 0)),u=Object(a.a)(i,2),c=u[0],s=u[1],f=[[[0,0]],[[0,1]],[[1,0]],[[1,1]]],m=[[[0]],[[1]],[[1]],[[0]]];return e.fit(f,m,1e3),Object(o.jsx)("div",{className:"min-h-screen bg-gray-900 text-white",children:Object(o.jsxs)("main",{children:[Object(o.jsx)(h,{network:e}),Object(o.jsx)("button",{onClick:function(){s(e.fit(f,m,1e3))},className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",children:"Create and train"}),c&&Object(o.jsxs)("p",{children:["Error after last epoch: ",c]}),c&&Object(o.jsxs)("p",{children:["Testing 0,0: ",e.predict([[0,0]])]}),c&&Object(o.jsxs)("p",{children:["Testing 0,1: ",e.predict([[0,1]])]}),c&&Object(o.jsxs)("p",{children:["Testing 1,1: ",e.predict([[1,1]])]}),c&&Object(o.jsxs)("p",{children:["Testing 0,1: ",e.predict([[1,0]])]})]})})},z=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,17)).then((function(n){var e=n.getCLS,r=n.getFID,i=n.getFCP,u=n.getLCP,c=n.getTTFB;e(t),r(t),i(t),u(t),c(t)}))};c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(S,{})}),document.getElementById("root")),z()}},[[16,1,2]]]);
//# sourceMappingURL=main.a46fecb2.chunk.js.map